<%- include('../layouts/header'); -%>
<br>
<br>
<h1>Modifier <%= toEditUser.pseudo %> </h1>
<form class="mx-5" id="edit" method="POST" action="/api/users/edit" enctype="multipart/form-data">

  <div class="form-group">
    <label for="id">Id</label>
    <input type="text" class="form-control" id="id" name="id" value="<%= toEditUser._id %>" readonly required>
  </div>

  <div class="form-group">
    <label for="email">Email</label>
    <input type="email" class="form-control" id="email" name="email" value="<%= toEditUser.email %>" required>
  </div>

  <div class="form-group">
    <label for="pseudo">Pseudo</label>
    <input type="text" class="form-control" id="pseudo" name="pseudo" value="<%= toEditUser.pseudo %>" required>
  </div>

  <div class="form-group">
    <label for="level">Niveau de permission</label>
    <input type="number" class="form-control" id="level" name="level" value="<%= toEditUser.level %>" min="0" max="3"
      required>
  </div>

  <div class="form-group">

    <label for="img">Image de profil</label>

    <div class="input-group mb-3">

      <div class="custom-file">
        <input type="file" class="custom-file-input" id="imgInput" name="img" aria-describedby="inputGroupFileAddon01"
          accept="image/*">
        <label class="custom-file-label" for="img" id="imgLabel">...</label>
      </div>
    </div>
  </div>

  <div class="form-group">

    <div class="preview shadow-lg rounded"
      style="background-image: url('data:image/<%= toEditUser.img.contentType%>;base64,<%= toEditUser.img.data.toString('base64')%>'); display: block;">
    </div>
  </div>
  <button type="submit" class="btn btn-primary">Envoyer</button>
</form>

<script src="/js/formValidation.js"></script>

<%- include('../layouts/footer'); -%>